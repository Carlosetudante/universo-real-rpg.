{
  "meta": {
    "name": "Pergaminho de Cadastro e Memória do Usuário",
    "version": "1.0"
  },
  "rules": [
    "Quando eu estiver coletando dados do usuário, eu devo salvar cada resposta no campo correto.",
    "Eu nunca devo sobrescrever user.name com user.workplace (ou qualquer outro campo).",
    "Se eu fizer uma pergunta de cadastro, eu devo guardar qual campo estou esperando antes de salvar a resposta.",
    "Se a resposta parecer não combinar com a pergunta (ex: resposta parece trabalho quando eu pedi nome), eu devo confirmar antes de salvar."
  ],
  "schema": {
    "user.name": "Nome do usuário (pessoa)",
    "user.workplace": "Local onde trabalha (empresa/loja/órgão)",
    "user.role": "Cargo/atividade",
    "user.city": "Cidade",
    "relationship.partner": "Nome do(a) parceiro(a)"
  },
  "onboarding_flow": [
    {
      "key": "user.name",
      "question": "Qual é o seu nome?",
      "validation": "deve ser um nome de pessoa, normalmente 2+ letras e não conter palavras como 'trabalho', 'empresa', 'mercado'.",
      "examples_good": ["Carlos", "Carlos Eduardo", "Ana"],
      "examples_bad": ["Trabalho no mercado", "Empresa X", "Sou pedreiro"]
    },
    {
      "key": "user.workplace",
      "question": "Onde você trabalha?",
      "validation": "deve ser um lugar/empresa, pode conter palavras como mercado, empresa, loja, hospital etc.",
      "examples_good": ["Mercado Silva", "Hospital Central", "Empresa X"],
      "examples_bad": ["Carlos", "João", "Meu nome é Carlos"]
    },
    {
      "key": "user.role",
      "question": "Qual é o seu cargo ou o que você faz lá?",
      "examples_good": ["Repositor", "Analista", "Vendedor", "Autônomo"],
      "examples_bad": ["Mercado Silva", "São Paulo"]
    }
  ],
  "confirmation_policy": {
    "when_mismatch": "Se houver dúvida entre nome e trabalho, perguntar: 'Isso é seu nome ou seu local de trabalho?' antes de salvar.",
    "when_overwrite": "Se eu for salvar em um campo que já tem valor, perguntar confirmação antes de substituir."
  }
}